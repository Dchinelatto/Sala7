package digitalhouse.android.a0317moacns1c_01.View.Fragments;import android.content.Context;import android.os.Bundle;import android.support.v4.app.Fragment;import android.support.v7.widget.LinearLayoutManager;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import java.util.List;import digitalhouse.android.a0317moacns1c_01.Controller.ControllerMedia;import digitalhouse.android.a0317moacns1c_01.DAO.DAOTablaGeneros;import digitalhouse.android.a0317moacns1c_01.Model.Media;import digitalhouse.android.a0317moacns1c_01.Utils.ResultListener;import digitalhouse.android.a0317moacns1c_01.Utils.TMDBHelper;import digitalhouse.android.a0317moacns1c_01.View.Adapters.GeneroAdapter;import digitalhouse.android.a0317moacns1c_01.R;/** * A simple {@link Fragment} subclass. */public class GeneroFragment extends Fragment {    // ATRIBUTOS    private ListaFragment.ReceptorMedia receptorMedia;    private GeneroAdapter generoAdapter;    private RecyclerView recyclerView;    private Integer generoID;    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        Bundle elBundle = getArguments();        generoID = elBundle.getInt(DAOTablaGeneros.GENERO_ID);        // INFLO LA VIEW        View laView = inflater.inflate(R.layout.fragment_genero, container, false);        // TRAIGO LA RECYCLERVIEW         recyclerView = (RecyclerView) laView.findViewById(R.id.recyclerView_genero);        // INSTANCIO EL ADAPTER        generoAdapter = new GeneroAdapter(getContext());        // SETEO EL ADAPTER AL RECYCLERVIEW        recyclerView.setAdapter(generoAdapter);        // SETEO EL LAYOUT MANAGER        recyclerView.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false));        setearGenero();        return laView;    }    public void setearGenero(){        ControllerMedia controllerMedia = new ControllerMedia(getContext());        controllerMedia.traerListaMediaPorGenero(generoID, "pelicula", new ResultListener<List<Media>>() {            @Override            public void finish(final List<Media> resultado) {                generoAdapter.setListaMedia(resultado);                generoAdapter.notifyDataSetChanged();                // SETEO EL LISTENER                generoAdapter.setListener(new View.OnClickListener() {                    @Override                    public void onClick(View view) {                        Integer posicion = recyclerView.getChildAdapterPosition(view);                        Media laMedia = resultado.get(posicion);                        receptorMedia.recibirMedia(laMedia, posicion, TMDBHelper.TIPO_PELICULA, generoID);                    }                });            }        });    }    @Override    public void onAttach(Context context) {        super.onAttach(context);        receptorMedia = (ListaFragment.ReceptorMedia) context;    }}